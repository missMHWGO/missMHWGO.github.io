<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>追梦翩跹</title>
  <subtitle>wangjiajing&#39;s blog</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://wangjiajing.com/"/>
  <updated>2016-07-16T18:56:42.104Z</updated>
  <id>http://wangjiajing.com/</id>
  
  <author>
    <name>wangjiajing</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>juicer的if判断</title>
    <link href="http://wangjiajing.com/2016/07/17/juicer%E7%9A%84if%E5%88%A4%E6%96%AD/"/>
    <id>http://wangjiajing.com/2016/07/17/juicer的if判断/</id>
    <published>2016-07-16T18:36:33.000Z</published>
    <updated>2016-07-16T18:56:42.104Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;juicer&lt;/code&gt; &lt;code&gt;if&lt;/code&gt; &lt;code&gt;javaScript模板引擎&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;{@if 直接的表达式}&lt;br&gt;    html代码&lt;br&gt;{@else}&lt;br&gt;    html代码&lt;br&gt;{@/if}&lt;/p&gt;
&lt;p&gt;如：&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;@if it.remark != &quot;&quot;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;$&amp;#123;it.remark&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;@else&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;人生因装逼而精彩！&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;@/if&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;欢迎您的指导！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      juicer if javaScript模板引擎
    
    </summary>
    
      <category term="javaScript" scheme="http://wangjiajing.com/categories/javaScript/"/>
    
    
      <category term="juicer if javaScript模板引擎" scheme="http://wangjiajing.com/tags/juicer-if-javaScript%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/"/>
    
  </entry>
  
  <entry>
    <title>我的发邮件之路(五)——正则匹配</title>
    <link href="http://wangjiajing.com/2016/07/17/%E6%88%91%E6%88%91%E7%9A%84%E5%8F%91%E9%82%AE%E4%BB%B6%E4%B9%8B%E8%B7%AF-%E4%BA%94-%E2%80%94%E2%80%94%E6%AD%A3%E5%88%99%E5%8C%B9%E9%85%8D/"/>
    <id>http://wangjiajing.com/2016/07/17/我我的发邮件之路-五-——正则匹配/</id>
    <published>2016-07-16T18:18:46.000Z</published>
    <updated>2016-07-16T18:27:41.462Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;发邮件&lt;/code&gt; &lt;code&gt;正则&lt;/code&gt; &lt;code&gt;VBScript&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;优化了一下脚本，用正则匹配邮箱，不是邮箱的东东就跳过，干掉了一旦遇到不是邮箱的东东就跪的问题。&lt;/p&gt;
&lt;figure class=&quot;highlight vbscript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&#39;正则匹配邮箱&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;Dim&lt;/span&gt; re&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;Set&lt;/span&gt; re = &lt;span class=&quot;keyword&quot;&gt;New&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;RegExp&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;re.Pattern = &lt;span class=&quot;string&quot;&gt;&quot;^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;re.Global = &lt;span class=&quot;literal&quot;&gt;True&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;re.IgnoreCase = &lt;span class=&quot;literal&quot;&gt;True&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;If&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; re.Test(strCurAddr) &lt;span class=&quot;keyword&quot;&gt;Then&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;Else&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           strSendAddr = strSendAddr &amp;amp; strCurAddr &amp;amp; &lt;span class=&quot;string&quot;&gt;&quot;,&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           uiCntAddr = uiCntAddr + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;End&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;If&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;欢迎您的指导！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      发邮件 正则 VBScript
    
    </summary>
    
      <category term="others" scheme="http://wangjiajing.com/categories/others/"/>
    
    
      <category term="发邮件 正则 VBScript" scheme="http://wangjiajing.com/tags/%E5%8F%91%E9%82%AE%E4%BB%B6-%E6%AD%A3%E5%88%99-VBScript/"/>
    
  </entry>
  
  <entry>
    <title>我的发邮件之路(四)——gmail&amp;163</title>
    <link href="http://wangjiajing.com/2016/07/17/%E6%88%91%E7%9A%84%E5%8F%91%E9%82%AE%E4%BB%B6%E4%B9%8B%E8%B7%AF-%E5%9B%9B-%E2%80%94%E2%80%94gmail-163/"/>
    <id>http://wangjiajing.com/2016/07/17/我的发邮件之路-四-——gmail-163/</id>
    <published>2016-07-16T17:27:20.000Z</published>
    <updated>2016-07-16T18:20:28.822Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;发邮件&lt;/code&gt; &lt;code&gt;gmail&lt;/code&gt; &lt;code&gt;163&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;最近发现了一个很诡异的问题：&lt;br&gt;&lt;img src=&quot;http://7xqw4a.com1.z0.glb.clouddn.com/9%5D2%7B5VE%7B7%7DGYD~4$_XNSL%5DW.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://7xqw4a.com1.z0.glb.clouddn.com/%5DT%5DPTEE2XZ9W~~WINWM@FXG.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;点开详情：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;rcpt handle timeout,last handle info: domain gmail.com MX query return retry.&lt;br&gt;我们可以查找MX记录：&lt;br&gt;&lt;strong&gt;nslookup -qt=MX qq.com&lt;/strong&gt;&lt;br&gt;可以看见很多ip地址，我们用talnet随便访问其中一个的25端口：&lt;br&gt;可以看见相应信息 = =&lt;br&gt;我决定换成其他邮箱试试。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;gmail&quot;&gt;&lt;a href=&quot;#gmail&quot; class=&quot;headerlink&quot; title=&quot;gmail&quot;&gt;&lt;/a&gt;&lt;strong&gt;gmail&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;服务器：smtp.gmail.com&lt;br&gt;端口：465&lt;br&gt;测试结果：&lt;br&gt;报错：smtp not available(大概是酱)&lt;br&gt;与此同时，我的辅助邮箱还收到了谷歌义正言辞地说它拒绝了我的访问= =&lt;br&gt;解决办法：登录&lt;a href=&quot;https://www.google.com/settings/security/lesssecureapps，选择“启用”&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.google.com/settings/security/lesssecureapps，选择“启用”&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;163&quot;&gt;&lt;a href=&quot;#163&quot; class=&quot;headerlink&quot; title=&quot;163&quot;&gt;&lt;/a&gt;&lt;strong&gt;163&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;服务器：smtp.163.com&lt;br&gt;端口：25&lt;br&gt;测试结果：&lt;br&gt;报错：smtp not available = =&lt;br&gt;解决办法：密码不是登录邮箱的密码，而是开启smtp的授权码&lt;br&gt;报错：553 mail from must equel authorized user&lt;br&gt;解决办法：发送邮件的人必须和认证的邮箱一致，确保自己正在用本邮箱发送&lt;/p&gt;
&lt;p&gt;欢迎您的指导！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      发邮件 gmail 163
    
    </summary>
    
      <category term="others" scheme="http://wangjiajing.com/categories/others/"/>
    
    
      <category term="发邮件 gmail 163" scheme="http://wangjiajing.com/tags/%E5%8F%91%E9%82%AE%E4%BB%B6-gmail-163/"/>
    
  </entry>
  
  <entry>
    <title>我的发邮件之路路(三)——VBScript</title>
    <link href="http://wangjiajing.com/2016/06/28/%E6%88%91%E7%9A%84%E5%8F%91%E9%82%AE%E4%BB%B6%E4%B9%8B%E8%B7%AF%E8%B7%AF-%E4%B8%89-%E2%80%94%E2%80%94VBScript/"/>
    <id>http://wangjiajing.com/2016/06/28/我的发邮件之路路-三-——VBScript/</id>
    <published>2016-06-28T15:03:46.000Z</published>
    <updated>2016-06-28T15:03:46.051Z</updated>
    
    <content type="html"></content>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>我的发邮件之路(三)——VBScript</title>
    <link href="http://wangjiajing.com/2016/06/28/%E6%88%91%E7%9A%84%E5%8F%91%E9%82%AE%E4%BB%B6%E4%B9%8B%E8%B7%AF(%E4%B8%89)%E2%80%94%E2%80%94VBScript/"/>
    <id>http://wangjiajing.com/2016/06/28/我的发邮件之路(三)——VBScript/</id>
    <published>2016-06-28T13:47:55.000Z</published>
    <updated>2016-06-28T15:07:03.684Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;VBScript&lt;/code&gt; &lt;code&gt;邮件&lt;/code&gt;&lt;br&gt;之前用&lt;code&gt;PHPMailer&lt;/code&gt;令我伤上加伤/(ㄒoㄒ)/~~有位前辈写过一段功能较为完善的VBS，拿过来参考借鉴一下~另外我在前辈的基础上完善了一个界面，可以在界面上输入邮件主题、附件等，即可进行可视化操作。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/missMHWGO/sendemail&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;点击查看代码&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;使用环境：windows系统&lt;br&gt;操作步骤：&lt;br&gt;1.进入该文件所在目录&lt;br&gt;2.打开windows终端，输入CScript test.vbs&lt;br&gt;3.在弹出来的网页上输入邮件标题，选择需要读取的正文文件，选择附件等，需要发送的邮箱列表是在代码中写死的。可以不写死，但是目前我没有这个需求，所以就把它写死了。&lt;/p&gt;
&lt;p&gt;欢迎您的指导！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      VBScript 邮件
    
    </summary>
    
      <category term="others" scheme="http://wangjiajing.com/categories/others/"/>
    
    
      <category term="VBScript 邮件" scheme="http://wangjiajing.com/tags/VBScript-%E9%82%AE%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>我的发邮件之路(一)——mail</title>
    <link href="http://wangjiajing.com/2016/06/28/%E6%88%91%E7%9A%84%E5%8F%91%E9%82%AE%E4%BB%B6%E4%B9%8B%E8%B7%AF(%E4%B8%80)%E2%80%94%E2%80%94mail/"/>
    <id>http://wangjiajing.com/2016/06/28/我的发邮件之路(一)——mail/</id>
    <published>2016-06-28T11:32:17.000Z</published>
    <updated>2016-06-28T13:28:39.437Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;php&lt;/code&gt; &lt;code&gt;mail&lt;/code&gt;&lt;br&gt;最近想发发邮件玩玩，听说php自带了mail()函数，于是天真无邪的我认为那应该很快就可以搞定啦~=。=~&lt;/p&gt;
&lt;h2 id=&quot;sendmail&quot;&gt;&lt;a href=&quot;#sendmail&quot; class=&quot;headerlink&quot; title=&quot;sendmail&quot;&gt;&lt;/a&gt;sendmail&lt;/h2&gt;&lt;p&gt;首先，我用的是windows，本地的服务器并不支持mail这个函数，于是我们得去下一个叫sendmail的东东，它原本是类unix系统下的软件，在LAMP体系中有着良好的使用性。但是这个世界是不缺大神的，大神帮我们把这玩意弄到了windows平台上。当然如果你是XAMPP(X(支持跨平台)+Apache+MySQL/MariaDB+PHP+Perl)，就已经有sendmail文件夹了。&lt;/p&gt;
&lt;p&gt;1.到&lt;a href=&quot;http://glob.com.au/sendmail/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;这里&lt;/a&gt;下载sendmail.&lt;br&gt;2.解压后该文件根目录下有个&lt;code&gt;sendmail.exe&lt;/code&gt;和&lt;code&gt;sendmail.ini&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&quot;php-ini&quot;&gt;&lt;a href=&quot;#php-ini&quot; class=&quot;headerlink&quot; title=&quot;php.ini&quot;&gt;&lt;/a&gt;php.ini&lt;/h2&gt;&lt;p&gt;接下来开始跳坑。&lt;br&gt;&lt;strong&gt;我&lt;/strong&gt;开始配置&lt;strong&gt;php.ini&lt;/strong&gt;文件：&lt;br&gt;进入&lt;code&gt;E:\wamp\bin\php\php5.5.12\php.ini&lt;/code&gt;&lt;br&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[mail &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;title&quot;&gt;SMTP&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;smtp&lt;/span&gt;.163.&lt;span class=&quot;title&quot;&gt;com&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;title&quot;&gt;smtp_port&lt;/span&gt; = 25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;title&quot;&gt;sendmail_from&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;wangjiajing&lt;/span&gt;@163.&lt;span class=&quot;title&quot;&gt;com&lt;/span&gt; //填写自己的邮箱地址，不填也没啥关系&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;title&quot;&gt;sendmail_path&lt;/span&gt; = &quot;&lt;span class=&quot;title&quot;&gt;D&lt;/span&gt;:\&lt;span class=&quot;title&quot;&gt;sendmail&lt;/span&gt;\&lt;span class=&quot;title&quot;&gt;sendmail&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;exe&lt;/span&gt; -&lt;span class=&quot;title&quot;&gt;t&lt;/span&gt;&quot;//重要，刚刚说的地址&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;title&quot;&gt;mail&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;add_x_header&lt;/span&gt; = &lt;span class=&quot;title&quot;&gt;On&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;我&lt;/strong&gt;开始配置&lt;strong&gt;sendmail.ini&lt;/strong&gt;文件：&lt;br&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[sendmail]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;smtp_server=smtp&lt;span class=&quot;number&quot;&gt;.163&lt;/span&gt;.com&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;smtp_port=&lt;span class=&quot;number&quot;&gt;25&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;error_logfile=error.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;debug_logfile=debug.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;auth_username=wangjiajing@&lt;span class=&quot;number&quot;&gt;163.&lt;/span&gt;com&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;auth_password=wangjiajingshiyigehaoren&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;force_sender=wangjiajing@&lt;span class=&quot;number&quot;&gt;163.&lt;/span&gt;com&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;php代码&quot;&gt;&lt;a href=&quot;#php代码&quot; class=&quot;headerlink&quot; title=&quot;php代码&quot;&gt;&lt;/a&gt;php代码&lt;/h2&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$to = &lt;span class=&quot;string&quot;&gt;&quot;wangjiajing@163.com&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$subject = &lt;span class=&quot;string&quot;&gt;&quot;Test mail&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$message = &lt;span class=&quot;string&quot;&gt;&quot;Hello! This is a simple email message.--by wangjiajig&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$from = &lt;span class=&quot;string&quot;&gt;&quot;wangjiajing@163.com&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$headers = &lt;span class=&quot;string&quot;&gt;&quot;From: $from&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(mail($to,$subject,$message,$headers))&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mail Sent&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;fail&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;万事俱备，只欠东风~激动人心的时刻终于到啦~&lt;br&gt;然而并没有成功= =提示说可能没有开启SMTP服务啥的。。。&lt;br&gt;后来纠结了巨久巨久，终于发现这个错哪来的了！！！&lt;br&gt;用&lt;strong&gt;&lt;code&gt;echo phpinfo();&lt;/code&gt;&lt;/strong&gt;打印php信息：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xqw4a.com1.z0.glb.clouddn.com/G4Y6%7D%29~QCT2QM9AQ%5DN%600%60%28Q.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;原来搞了半天根本改错了文件。。。&lt;br&gt;&lt;img src=&quot;http://7xqw4a.com1.z0.glb.clouddn.com/%E5%90%90%E8%A1%80.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;也就是说应该修改apche目录下的php.ini，我却修改成了php目录下的php.ini了。。。&lt;br&gt;改对文件后，那个错果然不见了=.=&lt;br&gt;但是史上最纠结的问题也粗线了。。。结果显示的是&lt;code&gt;Mail Sent&lt;/code&gt;,也就是说mail这个函数使用成功了，然而我实际上并没有收到邮件。。。有没有人来救救我。。。。&lt;/p&gt;
&lt;p&gt;至今依然不造问题出在了哪里，欢迎您的指导，如果知道一定要告诉我哦~&lt;/p&gt;
&lt;p&gt;参考资料：&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/lqminn/p/3468357.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cnblogs.com/lqminn/p/3468357.html&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      php mail
    
    </summary>
    
      <category term="others" scheme="http://wangjiajing.com/categories/others/"/>
    
    
      <category term="php mail" scheme="http://wangjiajing.com/tags/php-mail/"/>
    
  </entry>
  
  <entry>
    <title>我的发邮件之路(二)——PHPMailer</title>
    <link href="http://wangjiajing.com/2016/06/28/%E6%88%91%E7%9A%84%E5%8F%91%E9%82%AE%E4%BB%B6%E4%B9%8B%E8%B7%AF(%E4%BA%8C)%E2%80%94%E2%80%94PHPMailer/"/>
    <id>http://wangjiajing.com/2016/06/28/我的发邮件之路(二)——PHPMailer/</id>
    <published>2016-06-28T11:17:16.000Z</published>
    <updated>2016-06-28T13:27:51.124Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;PHPMailer&lt;/code&gt; &lt;code&gt;发邮件&lt;/code&gt;&lt;br&gt;之前用mail函数实在太受伤了，最重要的并没有成功。听说PHPMailer很好很强大，我又按捺不住跑去玩了下。&lt;br&gt;首先老规矩，&lt;a href=&quot;https://github.com/PHPMailer/PHPMailer&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;github上&lt;/a&gt;下PHPMailer，上面说的很详细了，示例代码都给了：&lt;br&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;PHPMailerAutoload.php&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; PHPMailer;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//$mail-&amp;gt;SMTPDebug = 3;                               // Enable verbose debug output&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;isSMTP();                                      &lt;span class=&quot;comment&quot;&gt;// Set mailer to use SMTP&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;Host = &lt;span class=&quot;string&quot;&gt;&#39;smtp1.example.com;smtp2.example.com&#39;&lt;/span&gt;;  &lt;span class=&quot;comment&quot;&gt;// Specify main and backup SMTP servers&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;SMTPAuth = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;                               &lt;span class=&quot;comment&quot;&gt;// Enable SMTP authentication&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;Username = &lt;span class=&quot;string&quot;&gt;&#39;user@example.com&#39;&lt;/span&gt;;                 &lt;span class=&quot;comment&quot;&gt;// SMTP username&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;Password = &lt;span class=&quot;string&quot;&gt;&#39;secret&#39;&lt;/span&gt;;                           &lt;span class=&quot;comment&quot;&gt;// SMTP password&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;SMTPSecure = &lt;span class=&quot;string&quot;&gt;&#39;tls&#39;&lt;/span&gt;;                            &lt;span class=&quot;comment&quot;&gt;// Enable TLS encryption, `ssl` also accepted&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;Port = &lt;span class=&quot;number&quot;&gt;587&lt;/span&gt;;                                    &lt;span class=&quot;comment&quot;&gt;// TCP port to connect to&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;setFrom(&lt;span class=&quot;string&quot;&gt;&#39;from@example.com&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;Mailer&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;addAddress(&lt;span class=&quot;string&quot;&gt;&#39;joe@example.net&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;Joe User&#39;&lt;/span&gt;);     &lt;span class=&quot;comment&quot;&gt;// Add a recipient&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;addAddress(&lt;span class=&quot;string&quot;&gt;&#39;ellen@example.com&#39;&lt;/span&gt;);               &lt;span class=&quot;comment&quot;&gt;// Name is optional&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;addReplyTo(&lt;span class=&quot;string&quot;&gt;&#39;info@example.com&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;Information&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;addCC(&lt;span class=&quot;string&quot;&gt;&#39;cc@example.com&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;addBCC(&lt;span class=&quot;string&quot;&gt;&#39;bcc@example.com&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;addAttachment(&lt;span class=&quot;string&quot;&gt;&#39;/var/tmp/file.tar.gz&#39;&lt;/span&gt;);         &lt;span class=&quot;comment&quot;&gt;// Add attachments&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;addAttachment(&lt;span class=&quot;string&quot;&gt;&#39;/tmp/image.jpg&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;new.jpg&#39;&lt;/span&gt;);    &lt;span class=&quot;comment&quot;&gt;// Optional name&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;isHTML(&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;);                                  &lt;span class=&quot;comment&quot;&gt;// Set email format to HTML&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;Subject = &lt;span class=&quot;string&quot;&gt;&#39;Here is the subject&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;Body    = &lt;span class=&quot;string&quot;&gt;&#39;This is the HTML message body &amp;lt;b&amp;gt;in bold!&amp;lt;/b&amp;gt;&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;AltBody = &lt;span class=&quot;string&quot;&gt;&#39;This is the body in plain text for non-HTML mail clients&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(!$mail-&amp;gt;send()) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;Message could not be sent.&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;Mailer Error: &#39;&lt;/span&gt; . $mail-&amp;gt;ErrorInfo;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;Message has been sent&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;接着我想从一个excel里读取邮箱发送，我用的是&lt;code&gt;PHPExcel&lt;/code&gt;.&lt;br&gt;从&lt;a href=&quot;https://github.com/PHPOffice/PHPExcel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;这里&lt;/a&gt;下载，我只用到&lt;code&gt;PHPExcel\Classes&lt;/code&gt;下的两个文件&lt;code&gt;PHPExcel&lt;/code&gt;和&lt;code&gt;PHPExcel.php&lt;/code&gt;。把它拷到PHPMailer的根目录下，来个小栗子：&lt;br&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;require_once&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;phpexcel/PHPExcel.php&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	header(&lt;span class=&quot;string&quot;&gt;&quot;Content-type: text/html; charset=utf-8&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	$filename = &lt;span class=&quot;string&quot;&gt;&quot;contact2.xls&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	$objReader = PHPExcel_IOFactory::createReaderForFile($filename);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	$objPHPExcel = $objReader-&amp;gt;load($filename);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	$column = &lt;span class=&quot;string&quot;&gt;&#39;C&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;foreach&lt;/span&gt; ($objPHPExcel-&amp;gt;getWorksheetIterator() &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; $worksheet) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		$lastRow = $worksheet-&amp;gt;getHighestRow();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; ($row = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;; $row &amp;lt;= $lastRow; $row++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		    $cell = $worksheet-&amp;gt;getCell($column.$row);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ($cell != &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		    	&lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; $cell.&lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;br&amp;gt;&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;可以把contact2.xls表格里C列的内容打印出来。&lt;br&gt;接下来啥也不说了，直接上代码(代码中有解释)：&lt;br&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;PHPMailerAutoload.php&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;require_once&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;phpexcel/PHPExcel.php&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//设置时区，如果不设置，时间不是东八区的时间。至于为啥是上海不是北京。。。额。。。我试过了，北京报错，只有上海。。。&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;date_default_timezone_set(&lt;span class=&quot;string&quot;&gt;&#39;Asia/Shanghai&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//下面这句把utf-8编码注释掉了，如果body是网页的话一定要加这句，否则是乱码，但我这里不是装逼非要从一个文件里读取正文内容嘛。。。亲测如果读取的是txt文件加上这句就变乱码了。。。所以txt文件不是utf-8编码的？？？&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//header(&quot;Content-type: text/html; charset=utf-8&quot;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; PHPMailer;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//这是我一开始想把多个联系人放在一个数组里&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//$receivers = array(&#39;wangjiajing@163.com&#39;,&#39;wangjiajing@qq.com&#39;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//$mail-&amp;gt;SMTPDebug = 2;                               // 开启详细debug输出&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;isSMTP();               &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;Host = &lt;span class=&quot;string&quot;&gt;&#39;smtp.163.com&#39;&lt;/span&gt;; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;SMTPAuth = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;;                               &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;Username = &lt;span class=&quot;string&quot;&gt;&#39;wangjiajing@163.com&#39;&lt;/span&gt;;                 &lt;span class=&quot;comment&quot;&gt;// 用户名&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;Password = &lt;span class=&quot;string&quot;&gt;&#39;wangjiajingshiyigehaoren&#39;&lt;/span&gt;;                           &lt;span class=&quot;comment&quot;&gt;// 注意！！！这里是授权码，不是密码&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;SMTPSecure = &lt;span class=&quot;string&quot;&gt;&#39;tls&#39;&lt;/span&gt;;                            &lt;span class=&quot;comment&quot;&gt;// tls加密，也可设置为ssl&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;Port = &lt;span class=&quot;number&quot;&gt;25&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//$mail-&amp;gt;CharSet=&#39;GB2312&#39;;                                    &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;setFrom(&lt;span class=&quot;string&quot;&gt;&#39;wangjiajing@163.com&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// if (is_array($receivers)) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 	foreach ($receivers as $val) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 		//$mail -&amp;gt; ClearAddresses();  //清除保存在类中的邮件地址&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 		$mail-&amp;gt;addAddress($val);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 	&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;#125;else&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 	$mail-&amp;gt;addAddress($receivers);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//$mail-&amp;gt;addAddress(&#39;wangjiajing@qq.com&#39;, &#39;wangjiajing&#39;);     // 接收方&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//$mail-&amp;gt;addAddress(&#39;wangjiajing@163.com&#39;);               // 名字可选&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$filename = &lt;span class=&quot;string&quot;&gt;&quot;contact2.xls&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objReader = PHPExcel_IOFactory::createReaderForFile($filename);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$objPHPExcel = $objReader-&amp;gt;load($filename);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$column = &lt;span class=&quot;string&quot;&gt;&#39;C&#39;&lt;/span&gt;;&lt;span class=&quot;comment&quot;&gt;//你想读取的列&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;foreach&lt;/span&gt; ($objPHPExcel-&amp;gt;getWorksheetIterator() &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; $worksheet) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	$lastRow = $worksheet-&amp;gt;getHighestRow();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; ($row = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;; $row &amp;lt;= $lastRow; $row++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		$cell = $worksheet-&amp;gt;getCell($column.$row);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ($cell != &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		    &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; $cell.&lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;br&amp;gt;&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			$mail-&amp;gt;addBCC($cell); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;addReplyTo(&lt;span class=&quot;string&quot;&gt;&#39;wangjiajing@163.com&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;Information&#39;&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//回复的人，应设置与发件人相同&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//$mail-&amp;gt;addCC(&#39;cc@example.com&#39;);//抄送&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//$mail-&amp;gt;addBCC(&#39;bcc@example.com&#39;);//密送&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;addAttachment(&lt;span class=&quot;string&quot;&gt;&#39;wangjiajing的装逼日常.jpg&#39;&lt;/span&gt;);         &lt;span class=&quot;comment&quot;&gt;// 添加附件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//$mail-&amp;gt;addAttachment(&#39;test.png&#39;, &#39;附件.png&#39;);    // 会识别后面名字的扩展名，如这里的pdf变成jpg就打不开了&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;isHTML(&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;);                                  &lt;span class=&quot;comment&quot;&gt;// 是网页&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;Subject = utf8_encode(&lt;span class=&quot;string&quot;&gt;&#39;上学&#39;&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//主题写成haha之类的有可能被当成垃圾邮件,而且亲测同一主题可连续发送的邮件数也是很有限的，发多了又会被当成辣鸡邮件，而你却无可奈何。。。&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// $mail-&amp;gt;addEmbeddedImage(&quot;test.png&quot;, &quot;my-attach&quot;, &quot;test.png&quot;); //设置邮件中的图片&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// $mail-&amp;gt;Body    = &#39;&amp;lt;img src=&quot;cid:my-attach&quot;&amp;gt;&#39;;//src正确格式：cid:my-attach,如果src里写的是图片的路径的话，图片会作为附件发送;注意图片有可能会被当成垃圾邮件发不出去&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$txt = GetContent(&lt;span class=&quot;string&quot;&gt;&#39;essay.txt&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; $txt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;Body    = $txt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$mail-&amp;gt;AltBody = &lt;span class=&quot;string&quot;&gt;&#39;测试&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(!$mail-&amp;gt;send()) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;Message could not be sent.&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;Mailer Error: &#39;&lt;/span&gt; . $mail-&amp;gt;ErrorInfo;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;Message has been sent&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//读取文件内容&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;GetContent&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;($filename)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    $content = &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	$fp = fopen($filename,&lt;span class=&quot;string&quot;&gt;&quot;r&quot;&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;die&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Unable to open file!&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    $content = fread($fp,filesize($filename));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    fclose($fp);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; $content;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;我在发邮件的过程中还给自己科普了一下发普通邮件、抄送和密送的区别=。=&lt;br&gt;普通邮件：群发的话收件人可以看见所有收件人；&lt;br&gt;抄送：收件人可以看见抄送给了谁，但是被抄送的人一般只需要被告知邮件的内容，不需要回复给发件人；&lt;br&gt;密送：收件人彼此之间是看不见彼此的，只能看见发件人。&lt;/p&gt;
&lt;p&gt;这里有个很蛋疼的问题——邮件的主题编码方式和txt文件内容编码方式不一样，所以我每次发送出去的邮件不是正文乱码内容正常就是正文正常内容乱码。我认为主题应该和网页一样是utf-8编码的，txt应该不是。如果不从文件里读取正文内容，直接写在&lt;strong&gt;&lt;code&gt;$mail-&amp;gt;Body&lt;/code&gt;&lt;/strong&gt;里就没问题了。这个问题至今都没有解决~~ /(ㄒoㄒ)/~~&lt;/p&gt;
&lt;p&gt;欢迎您的指导，如果有解决方案一定要告诉我哦~~~&lt;/p&gt;
</content>
    
    <summary type="html">
    
      PHPMailer 发邮件
    
    </summary>
    
      <category term="others" scheme="http://wangjiajing.com/categories/others/"/>
    
    
      <category term="PHPMailer 发邮件" scheme="http://wangjiajing.com/tags/PHPMailer-%E5%8F%91%E9%82%AE%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>解决hexo上传不到github上的问题</title>
    <link href="http://wangjiajing.com/2016/06/28/%E8%A7%A3%E5%86%B3hexo%E4%B8%8A%E4%BC%A0%E4%B8%8D%E5%88%B0github%E4%B8%8A%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <id>http://wangjiajing.com/2016/06/28/解决hexo上传不到github上的问题/</id>
    <published>2016-06-28T05:49:22.000Z</published>
    <updated>2016-06-28T06:48:18.568Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;hexo&lt;/code&gt; &lt;code&gt;disconnected&lt;/code&gt; &lt;code&gt;github&lt;/code&gt;&lt;br&gt;大概两个星期前我又遇到了刚开始使用hexo的问题，课余时间慢慢捣鼓终于解决了这个问题。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;disconnected:No supported authentication methods available (server sent:publickey)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;一开始我还暗自庆幸，哈哈，这个问题我当时解决了并且记录了。然而当我用老方法的时候。。。不管用了！！！&lt;br&gt;&lt;img src=&quot;http://7xqw4a.com1.z0.glb.clouddn.com/%E4%B8%8B%E8%BD%BD.jpg&quot; alt=&quot;懵逼&quot;&gt;&lt;br&gt;看起来应该是key的问题，于是：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1.跑去打开&lt;code&gt;C:\Program Files\TortoiseGit\bin\puttygen.exe&lt;/code&gt;生成一个key.&lt;br&gt;2.跑去打开&lt;code&gt;C:\Program Files\TortoiseGit\bin\pageant.exe&lt;/code&gt;，添加之前生成的private key.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;然后就是见证奇迹的时刻！！！奇迹就是——&lt;code&gt;disconnected&lt;/code&gt;不见了，但是新出来一个问题——&lt;br&gt;&lt;img src=&quot;http://7xqw4a.com1.z0.glb.clouddn.com/S%60J%29HXKJ~UD35%60I5%5BP091%7DH.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;哭晕。。。&lt;br&gt;这个问题感觉是网络的问题，但是我的电脑是连着网的，不仅连着网还翻着墙。。。&lt;br&gt;为保证刚刚的操作没有把自己给坑了，于是决定重新生成一个key。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1.进入&lt;code&gt;~/.ssh&lt;/code&gt;目录，发现里面居然只有&lt;code&gt;known_hosts&lt;/code&gt;。。。我的&lt;code&gt;id_rsa&lt;/code&gt;呢呢呢呢呢呢！！！你还我的&lt;code&gt;id_rsa&lt;/code&gt;！！！&lt;br&gt;2.输入&lt;code&gt;ssh-keygen -t rsa -C &amp;quot;wangjiajing@missMHWGO.com&amp;quot;(引号里是github的注册邮箱)&lt;/code&gt;重新生成key，其中会提醒输入存储这个key的路径以及passphrase，全部默认回车就好，酱紫key就存在了&lt;code&gt;~/.ssh/id_rsa&lt;/code&gt;里并且passphrase为空。&lt;br&gt;3.输入&lt;code&gt;ssh-agent -s&lt;/code&gt;&lt;br&gt;4.输入&lt;code&gt;ssh-add ~/.ssh/id_rsa&lt;/code&gt;,然后就出错了= =&lt;br&gt;&lt;code&gt;could not open a connection to your authentication agent.&lt;/code&gt;&lt;br&gt;5.输入 eval `ssh-agent -s`&lt;br&gt;6.输入&lt;code&gt;ssh-add&lt;/code&gt;&lt;br&gt;7.输入&lt;code&gt;clip &amp;lt; ~/.ssh/id_rsa.pub&lt;/code&gt;拷贝&lt;br&gt;8.将这个key粘贴到github里。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;然而。。。还是不行！！！&lt;br&gt;就在这时，聪明机智美丽善良的我灵机一动，忽然想到了一件事——&lt;br&gt;&lt;img src=&quot;http://7xqw4a.com1.z0.glb.clouddn.com/WK166TJGNG$%7B~$V~%28G@ZJA8.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;于是我修改了hexo根目录下的&lt;code&gt;_config.yml&lt;/code&gt;文件 ——&lt;br&gt;原来部署的地方是酱的：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;deploy:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  type: git&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  repo: &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    github: git@github.com:missMHWGO/missMHWGO.github.io.git,master&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    gitcafe: git@gitcafe.com:missMHWGO/missMHWGO.git,gitcafe-pages&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;把gitcafe那句去掉。&lt;br&gt;结果出人意料——好了。&lt;br&gt;&lt;img src=&quot;http://7xqw4a.com1.z0.glb.clouddn.com/%E4%B8%8B%E8%BD%BD.jpg&quot; alt=&quot;懵逼&quot;&gt;&lt;/p&gt;
&lt;p&gt;欢迎您的指导！&lt;br&gt;参考资料：&lt;br&gt;&lt;a href=&quot;http://blog.sina.com.cn/s/blog_4c44643f0102vuju.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.sina.com.cn/s/blog_4c44643f0102vuju.html&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      hexo disconnected github
    
    </summary>
    
      <category term="hexo" scheme="http://wangjiajing.com/categories/hexo/"/>
    
    
      <category term="hexo disconnected github" scheme="http://wangjiajing.com/tags/hexo-disconnected-github/"/>
    
  </entry>
  
  <entry>
    <title>web杂记(二)</title>
    <link href="http://wangjiajing.com/2016/06/22/web%E6%9D%82%E8%AE%B0(%E4%BA%8C)/"/>
    <id>http://wangjiajing.com/2016/06/22/web杂记(二)/</id>
    <published>2016-06-22T14:30:12.000Z</published>
    <updated>2016-06-28T13:35:43.651Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;web&lt;/code&gt; &lt;code&gt;window&lt;/code&gt;&lt;br&gt;为什么要在函数定义时将&lt;code&gt;window&lt;/code&gt;作为参数传递到函数中去:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;javascript的&lt;code&gt;scope chain&lt;/code&gt;作用域链，在当前作用域中如果没有该属性（局部变量）则向上一层作用域中寻找，一直到最上层，也就是window。也就是说全局变量和下级作用域都是window的一个属性。&lt;/li&gt;
&lt;li&gt;通过传入window变量，使得window由全局变量变为局部变量，访问window时，不需要将作用域链回退到顶层作用域，这样可以更快的访问window，提高程序效率。&lt;/li&gt;
&lt;li&gt;将 window 作为参数传入，可以在压缩代码时进行优化。&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      web window
    
    </summary>
    
      <category term="Web" scheme="http://wangjiajing.com/categories/Web/"/>
    
    
      <category term="web window" scheme="http://wangjiajing.com/tags/web-window/"/>
    
  </entry>
  
  <entry>
    <title>Web杂记(一)</title>
    <link href="http://wangjiajing.com/2016/05/07/Web%E6%9D%82%E8%AE%B0(%E4%B8%80)/"/>
    <id>http://wangjiajing.com/2016/05/07/Web杂记(一)/</id>
    <published>2016-05-06T19:09:20.000Z</published>
    <updated>2016-06-28T13:36:08.305Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;canvas&lt;/code&gt; &lt;code&gt;输入框&lt;/code&gt; &lt;code&gt;display&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;###&lt;strong&gt;1.解决点击canvas没反应的问题&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;预期结果&lt;/strong&gt;&lt;br&gt;点击后跳出选取相册&lt;br&gt;&lt;strong&gt;调试结果&lt;/strong&gt;&lt;br&gt;发现没进去绑定的函数&lt;br&gt;&lt;strong&gt;发现问题&lt;/strong&gt;&lt;br&gt;在前面定义的时候让canvas.height是一个字符串“%d px”,所以乘上一个小数后变成了&lt;code&gt;NaN&lt;/code&gt;,结果就挂了。&lt;br&gt;&lt;strong&gt;解决方法&lt;/strong&gt;&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; canvas_height_len = canvas.style.height.length;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;parseInt&lt;/span&gt;(canvas.style.height.substring(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,canvas_height_len&lt;span class=&quot;number&quot;&gt;-2&lt;/span&gt;)) * &lt;span class=&quot;number&quot;&gt;0.7&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;px&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;###&lt;strong&gt;2.让输入框光标一直闪动&lt;/strong&gt;&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&quot;profile&quot;&lt;/span&gt;).focus();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;###&lt;strong&gt;3.swith(display)&lt;/strong&gt;&lt;br&gt;case block: 块，可正常使用；break;&lt;br&gt;case none:相当于不存在，不可使用，如给它绑定事件；break;&lt;br&gt;有一个很像的东西——&lt;code&gt;visibility&lt;/code&gt;，值为&lt;code&gt;hidden&lt;/code&gt;的时候&lt;code&gt;不可见&lt;/code&gt;，但存在；为&lt;code&gt;visible&lt;/code&gt;的时候为&lt;code&gt;可见&lt;/code&gt;，存在；默认&lt;code&gt;visible&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;欢迎你的指导！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      本文记述Web杂记、小技巧。
    
    </summary>
    
      <category term="Web" scheme="http://wangjiajing.com/categories/Web/"/>
    
    
      <category term="canvas 输入框 display" scheme="http://wangjiajing.com/tags/canvas-%E8%BE%93%E5%85%A5%E6%A1%86-display/"/>
    
  </entry>
  
  <entry>
    <title>PC在网页上直接将图片下载下来</title>
    <link href="http://wangjiajing.com/2016/05/03/PC%E5%9C%A8%E7%BD%91%E9%A1%B5%E4%B8%8A%E7%9B%B4%E6%8E%A5%E5%B0%86%E5%9B%BE%E7%89%87%E4%B8%8B%E8%BD%BD%E4%B8%8B%E6%9D%A5/"/>
    <id>http://wangjiajing.com/2016/05/03/PC在网页上直接将图片下载下来/</id>
    <published>2016-05-03T11:14:25.000Z</published>
    <updated>2016-05-03T11:31:42.526Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;html&lt;/code&gt; &lt;code&gt;javaScript&lt;/code&gt; &lt;code&gt;下载图片&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&quot;html实现&quot;&gt;&lt;a href=&quot;#html实现&quot; class=&quot;headerlink&quot; title=&quot;html实现&quot;&gt;&lt;/a&gt;&lt;strong&gt;html实现&lt;/strong&gt;&lt;/h3&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;要下载的链接&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;download&lt;/span&gt;&amp;gt;&lt;/span&gt;这里可以放文字也可以放图片，点击这里自动下载&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;js实现&quot;&gt;&lt;a href=&quot;#js实现&quot; class=&quot;headerlink&quot; title=&quot;js实现&quot;&gt;&lt;/a&gt;&lt;strong&gt;js实现&lt;/strong&gt;&lt;/h3&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; saveFile = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;data, filename&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; save_link = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElementNS(&lt;span class=&quot;string&quot;&gt;&#39;http://www.w3.org/1999/xhtml&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;a&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    save_link.href = data;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    save_link.download = filename;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; event = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createEvent(&lt;span class=&quot;string&quot;&gt;&#39;MouseEvents&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    event.initMouseEvent(&lt;span class=&quot;string&quot;&gt;&#39;click&#39;&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    save_link.dispatchEvent(event);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; filename = (&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;()).getTime() + &lt;span class=&quot;string&quot;&gt;&#39;.png&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;saveFile(image, filename);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;如果是canvas的话：&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; image = canvas.toDataURL(&lt;span class=&quot;string&quot;&gt;&quot;image/png&quot;&lt;/span&gt;).replace(&lt;span class=&quot;string&quot;&gt;&#39;image/png&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;image/octet-stream&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;但是这样不能将图片保存为常见的图片格式。&lt;/p&gt;
&lt;p&gt;欢迎你的指导！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      本文讲述如何PC在网页上直接将图片下载下来。
    
    </summary>
    
      <category term="Web" scheme="http://wangjiajing.com/categories/Web/"/>
    
    
      <category term="html javaScript 下载图片" scheme="http://wangjiajing.com/tags/html-javaScript-%E4%B8%8B%E8%BD%BD%E5%9B%BE%E7%89%87/"/>
    
  </entry>
  
  <entry>
    <title>在服务器端把base64加密的字符串合成图片</title>
    <link href="http://wangjiajing.com/2016/05/02/%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E6%8A%8Abase64%E5%8A%A0%E5%AF%86%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%90%88%E6%88%90%E5%9B%BE%E7%89%87/"/>
    <id>http://wangjiajing.com/2016/05/02/在服务器端把base64加密的字符串合成图片/</id>
    <published>2016-05-02T10:41:02.000Z</published>
    <updated>2016-05-02T11:16:41.197Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;base64&lt;/code&gt; &lt;code&gt;ajax&lt;/code&gt; &lt;code&gt;file_put_contents&lt;/code&gt; &lt;code&gt;storage&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&quot;需求&quot;&gt;&lt;a href=&quot;#需求&quot; class=&quot;headerlink&quot; title=&quot;需求&quot;&gt;&lt;/a&gt;&lt;strong&gt;需求&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;现在我有一串base64压缩的字符串，需要把它变成真正的图片。&lt;/p&gt;
&lt;h3 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;&lt;strong&gt;背景&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;用canvas的toDataURL函数返回的就是base64压缩的字符串，如果把它放在img.src里可以在网页上显示图片，但是保存在本地会显示失败。&lt;/p&gt;
&lt;h3 id=&quot;解决方法&quot;&gt;&lt;a href=&quot;#解决方法&quot; class=&quot;headerlink&quot; title=&quot;解决方法&quot;&gt;&lt;/a&gt;&lt;strong&gt;解决方法&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;将字符串用ajax请求发送到后台，在后台写进文件里变成真正的图片。&lt;br&gt;&lt;strong&gt;前端&lt;/strong&gt;&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; image = canvas.toDataURL();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$.post(&lt;span class=&quot;string&quot;&gt;&quot;./img.php&quot;&lt;/span&gt;, &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&#39;image&#39;&lt;/span&gt;: image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;).done(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;data&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    alert(data);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;后台&lt;/strong&gt;&lt;br&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$image = $_POST[&lt;span class=&quot;string&quot;&gt;&#39;image&#39;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$image = str_replace(&lt;span class=&quot;string&quot;&gt;&#39;data:image/png;base64,&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;, $image);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$data = base64_decode($image);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$filename = time().&lt;span class=&quot;string&quot;&gt;&#39;.png&#39;&lt;/span&gt;;&lt;span class=&quot;comment&quot;&gt;//以当前的时间戳命名，保证每张图片都能被保存，不会被覆盖&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$success = file_put_contents($filename, $data);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; $success ? $filename : &lt;span class=&quot;string&quot;&gt;&#39;fail&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;宝宝当时用的是SAE，这样写居然跪了。。。后来查资料发现SAE不支持文件写入。。。于是改用&lt;code&gt;storage&lt;/code&gt;&lt;br&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$stor = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SaeStorage();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$bucket = &lt;span class=&quot;string&quot;&gt;&#39;image&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$filename = time().&lt;span class=&quot;string&quot;&gt;&#39;.png&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$stor-&amp;gt;write($bucket , $filename , $data);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt;($stor-&amp;gt;getUrl($bucket,$filename));&lt;span class=&quot;comment&quot;&gt;//获取文件的绝对地址&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;欢迎你的指导！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      本文讲述如何在服务器端把base64加密的字符串合成图片。
    
    </summary>
    
      <category term="javaScript" scheme="http://wangjiajing.com/categories/javaScript/"/>
    
    
      <category term="base64 ajax file_put_contents storage" scheme="http://wangjiajing.com/tags/base64-ajax-file-put-contents-storage/"/>
    
  </entry>
  
  <entry>
    <title>canvas实现彩色图像变灰度图像(一)</title>
    <link href="http://wangjiajing.com/2016/05/02/canvas%E5%AE%9E%E7%8E%B0%E5%BD%A9%E8%89%B2%E5%9B%BE%E5%83%8F%E5%8F%98%E7%81%B0%E5%BA%A6%E5%9B%BE%E5%83%8F(%E4%B8%80)/"/>
    <id>http://wangjiajing.com/2016/05/02/canvas实现彩色图像变灰度图像(一)/</id>
    <published>2016-05-02T09:39:21.000Z</published>
    <updated>2016-05-02T10:28:06.497Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;html5&lt;/code&gt; &lt;code&gt;canvas&lt;/code&gt; &lt;code&gt;微信&lt;/code&gt;&lt;br&gt;先谈谈图片来源。&lt;br&gt;一开始太年轻，就用微信的sdk调用手机摄像头或本地相册获取照片。待我经历九九八十一难之后，终于可以获取一张照片的时候，我发现无论怎样都不能获取这张照片的像素点。&lt;br&gt;&lt;strong&gt;“Unable to get image data from canvas because the canvas has been tainted by cross-origin data.”&lt;/strong&gt;&lt;br&gt;类似的提示层出不穷。。。&lt;br&gt;我发现微信返回的localId是&lt;strong&gt;“wx://resource……”&lt;/strong&gt;这样形式的，所以很明显跨域了= =所以只好转战&lt;code&gt;&amp;lt;input type=&amp;quot;file&amp;quot;&amp;gt;&lt;/code&gt;。&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$(&lt;span class=&quot;string&quot;&gt;&#39;#file&#39;&lt;/span&gt;).change(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; file = e.target.files[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    imageType = &lt;span class=&quot;regexp&quot;&gt;/image.*/&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!file.type.match(imageType)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        alert(&lt;span class=&quot;string&quot;&gt;&#39;请选择一张图片！&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; url = URL.createObjectURL(file);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; img = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Image();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    img.src = url;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    img.onload = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; imgData = ctx.getImageData(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, canvas.width, canvas.height);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;欢迎你的指导！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      本文讲述canvas实现彩色图像变灰度图像。
    
    </summary>
    
      <category term="javaScript" scheme="http://wangjiajing.com/categories/javaScript/"/>
    
    
      <category term="html5 canvas 微信" scheme="http://wangjiajing.com/tags/html5-canvas-%E5%BE%AE%E4%BF%A1/"/>
    
  </entry>
  
  <entry>
    <title>裁剪图像神器photoClip</title>
    <link href="http://wangjiajing.com/2016/05/02/%E8%A3%81%E5%89%AA%E5%9B%BE%E5%83%8F%E7%A5%9E%E5%99%A8photoClip/"/>
    <id>http://wangjiajing.com/2016/05/02/裁剪图像神器photoClip/</id>
    <published>2016-05-02T09:14:42.000Z</published>
    <updated>2016-05-02T09:30:38.578Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;photoClip&lt;/code&gt; &lt;code&gt;裁剪&lt;/code&gt;&lt;br&gt;力荐一款裁剪图片的工具——jQuery-photoClip，源码请看&lt;a href=&quot;https://github.com/baijunjie/jQuery-photoClip&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;这里&lt;/a&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;支持手势&lt;ul&gt;
&lt;li&gt;缩放&lt;/li&gt;
&lt;li&gt;拖动&lt;/li&gt;
&lt;li&gt;旋转&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;操作简单&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;html&quot;&gt;&lt;a href=&quot;#html&quot; class=&quot;headerlink&quot; title=&quot;html&quot;&gt;&lt;/a&gt;&lt;strong&gt;html&lt;/strong&gt;&lt;/h3&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--裁剪区域--&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;clipArea&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--确定裁剪的按钮--&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;button&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;clipBtn&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;裁剪&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!--裁剪后图片显示区域--&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;view&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;js&quot;&gt;&lt;a href=&quot;#js&quot; class=&quot;headerlink&quot; title=&quot;js&quot;&gt;&lt;/a&gt;&lt;strong&gt;js&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/baijunjie/jQuery-photoClip&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;作者已经写得很清楚明白啦，我只是打打广告=。=&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;欢迎你的指导！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      本文推荐裁剪图像神器photoClip。
    
    </summary>
    
      <category term="javaScript" scheme="http://wangjiajing.com/categories/javaScript/"/>
    
    
      <category term="photoClip 裁剪" scheme="http://wangjiajing.com/tags/photoClip-%E8%A3%81%E5%89%AA/"/>
    
  </entry>
  
  <entry>
    <title>canvas实现彩色图像变灰度图像(二)</title>
    <link href="http://wangjiajing.com/2016/05/02/canvas%E5%AE%9E%E7%8E%B0%E5%BD%A9%E8%89%B2%E5%9B%BE%E5%83%8F%E5%8F%98%E7%81%B0%E5%BA%A6%E5%9B%BE%E5%83%8F(%E4%BA%8C)/"/>
    <id>http://wangjiajing.com/2016/05/02/canvas实现彩色图像变灰度图像(二)/</id>
    <published>2016-05-02T08:30:21.000Z</published>
    <updated>2016-05-02T10:33:57.304Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;html5&lt;/code&gt; &lt;code&gt;canvas&lt;/code&gt; &lt;code&gt;灰度图&lt;/code&gt;&lt;br&gt;将一幅彩色图像变灰最直接的方法就是加一层filter，css搞定，都不用劳烦js出场。&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.gray&lt;/span&gt; &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;-webkit-filter&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;grayscale&lt;/span&gt;(100%);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;-moz-filter&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;grayscale&lt;/span&gt;(100%);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;-ms-filter&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;grayscale&lt;/span&gt;(100%);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;-o-filter&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;grayscale&lt;/span&gt;(100%);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;filter&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;grayscale&lt;/span&gt;(100%);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;filter&lt;/span&gt;: gray;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;filter的功能极其强大，一行代码就能达到ps滤镜的效果，ps哭晕在Adobe。。。具体参数有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;grayscale灰度&lt;/li&gt;
&lt;li&gt;sepia复古&lt;/li&gt;
&lt;li&gt;saturate饱和度&lt;/li&gt;
&lt;li&gt;hue-rotate色相旋转&lt;/li&gt;
&lt;li&gt;invert反色&lt;/li&gt;
&lt;li&gt;opacity透明度&lt;/li&gt;
&lt;li&gt;brightness亮度&lt;/li&gt;
&lt;li&gt;contrast对比度&lt;/li&gt;
&lt;li&gt;blur模糊&lt;/li&gt;
&lt;li&gt;drop-shadow阴影&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;等等。。。&lt;br&gt;如果上述代码不加100%,效果也是一样的，因为默认是100%渲染。&lt;/p&gt;
&lt;p&gt;那么问题来了,我要在canvas上变灰呢。。。&lt;br&gt;所谓“魔高一尺，道高一丈”，canvas有一个极其强大的函数 &lt;strong&gt;&lt;code&gt;getImageData&lt;/code&gt;&lt;/strong&gt;，可以获取画布上每个像素点的rgb以及alpha值（透明度），并以数组形式按顺序保存。举个例子吧：&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;img.onload = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        ctx.drawImage(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, canvas.width, canvas.height);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; imgData = ctx.getImageData(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, canvas.width, canvas.height);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; y = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; y &amp;lt; imgData.height; y++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; x = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; x &amp;lt; imgData.width; x++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = (y * &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;) * imgData.width + x * &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; avg = (imgData.data[i] + imgData.data[i + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;] + imgData.data[i + &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;]) / &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                imgData.data[i] = avg;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                imgData.data[i + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;] = avg;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                imgData.data[i + &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;] = avg;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        ctx.putImageData(imgData, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, imgData.width, imgData.height);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;其中，图片被加载后我们把它画到canvas上，然后用getImageData、putImageData这一对函数将其处理成灰度图。&lt;br&gt;imgData就是上面提到的getImageData的返回值，是一个数组，imgData[0]是第一个像素点红色通道的值，imgData[0]是第一个像素点绿色通道的值，imgData[4]是第二个像素点红色通道的值。&lt;br&gt;上面函数的算法就是将一个像素点的r、g、b值加起来取平均再赋给这三个值，就变灰了=。=是不是很神奇呢~&lt;br&gt;(ps:一定要把代码丢到服务器上，否则你会看到&lt;strong&gt;“Unable to get image data from canvas because the canvas has been tainted by&lt;br&gt;cross-origin data.”&lt;/strong&gt;，相信我这一系列跨域图片污染画布的问题会把人搞崩溃的。。。)&lt;/p&gt;
&lt;p&gt;欢迎你的指导！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;html5&lt;/code&gt; &lt;code&gt;canvas&lt;/code&gt; &lt;code&gt;灰度图&lt;/code&gt;&lt;br&gt;将一幅彩色图像变灰最直接的方法就是加一层filter，css搞定，都不用劳烦js出场。&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;
    
    </summary>
    
      <category term="javaScript" scheme="http://wangjiajing.com/categories/javaScript/"/>
    
    
      <category term="html5 canvas 灰度图" scheme="http://wangjiajing.com/tags/html5-canvas-%E7%81%B0%E5%BA%A6%E5%9B%BE/"/>
    
  </entry>
  
  <entry>
    <title>如何在canvas上画线画图画文本</title>
    <link href="http://wangjiajing.com/2016/05/02/%E5%A6%82%E4%BD%95%E5%9C%A8canvas%E4%B8%8A%E7%94%BB%E7%BA%BF%E7%94%BB%E5%9B%BE%E7%94%BB%E6%96%87%E6%9C%AC/"/>
    <id>http://wangjiajing.com/2016/05/02/如何在canvas上画线画图画文本/</id>
    <published>2016-05-02T08:01:41.000Z</published>
    <updated>2016-05-02T08:16:53.366Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;html5&lt;/code&gt; &lt;code&gt;canvas&lt;/code&gt;&lt;br&gt;总结一下在canvas上画直线、写文本、绘图片的标准（最简单）写法。&lt;br&gt;首先定义画布：&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; canvas = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;canvas&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ctx = canvas.getContext(&lt;span class=&quot;string&quot;&gt;&#39;2d&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;canvas.width = &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.innerWidth;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;canvas.height = &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.innerHeight;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;如果图片是背景图，则先画背景图，之后所有的东西都在背景图画完之后画，不然之前画的会被背景覆盖：（人家优先级就是这么高，不服你咬我啊~）&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//画图&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; image = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Image();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;image.src = &lt;span class=&quot;string&quot;&gt;&#39;static/img/zhuangbi.png&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;image.onload = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ctx.drawImage(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, canvas.width, canvas.height);&lt;span class=&quot;comment&quot;&gt;//drawImage是一个无比强大的函数，通过设置参数可以直接把裁剪功能给做了~&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//画两条直线,画的是啥我也不知道= =&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ctx.strokeStyle = &lt;span class=&quot;string&quot;&gt;&#39;#f00&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ctx.beginPath();&lt;span class=&quot;comment&quot;&gt;//设置起点&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ctx.moveTo(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//数字都是坐标&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ctx.lineTo(&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ctx.moveTo(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;30&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ctx.lineTo(&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ctx.stroke();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//绘文字&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ctx.fillStyle = &lt;span class=&quot;string&quot;&gt;&#39;#0f0&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ctx.font = &lt;span class=&quot;string&quot;&gt;&#39;50px SimHei&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ctx.textBaseline = &lt;span class=&quot;string&quot;&gt;&#39;bottom&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ctx.fillText(&lt;span class=&quot;string&quot;&gt;&#39;一天不装逼我浑身难受=。=&#39;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;欢迎你的指导！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      本文介绍如何在canvas上画线画图画文本。
    
    </summary>
    
      <category term="javaScript" scheme="http://wangjiajing.com/categories/javaScript/"/>
    
    
      <category term="html5 canvas" scheme="http://wangjiajing.com/tags/html5-canvas/"/>
    
  </entry>
  
  <entry>
    <title>解决canvas自定义字体失败的问题</title>
    <link href="http://wangjiajing.com/2016/05/02/%E8%A7%A3%E5%86%B3canvas%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93%E5%A4%B1%E8%B4%A5%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <id>http://wangjiajing.com/2016/05/02/解决canvas自定义字体失败的问题/</id>
    <published>2016-05-02T05:44:22.000Z</published>
    <updated>2016-05-02T07:52:14.422Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;font-face&lt;/code&gt; &lt;code&gt;canvas&lt;/code&gt; &lt;code&gt;自定义字体&lt;/code&gt;&lt;br&gt;一般的自定义字体呢，讲道理的话css的&lt;code&gt;@font-face&lt;/code&gt;就可以毫无压力地解决啦~&lt;br&gt;举个栗子：&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;@&lt;span class=&quot;keyword&quot;&gt;font-face&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;font-family&lt;/span&gt;: PingFang_Bold;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;src&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;(font/PingFang_Bold.ttf) &lt;span class=&quot;built_in&quot;&gt;format&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;truetype&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;要用的时候呢：&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.font&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;font-family&lt;/span&gt;: PingFang_Bold;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;那么二般的呢？=。=比如要在canvas里自定义字体。。。canvas貌似用不了css哦。。。&lt;br&gt;没关系，我们可以这样写：&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; canvas = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;canvas&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ctx = canvas.getContext(&lt;span class=&quot;string&quot;&gt;&#39;2d&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ctx.font = &lt;span class=&quot;string&quot;&gt;&#39;40px PingFang_Bold&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ctx.fillText(&lt;span class=&quot;string&quot;&gt;&#39;人生何处不装逼=。=&#39;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;其中，&lt;code&gt;font&lt;/code&gt;属性可按顺序书写如下属性：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;font-style//取值：normal、italic、oblique、inherit，设置是否斜体&lt;/li&gt;
&lt;li&gt;font-variant//取值：normal、small-caps、inherit，设置是否为 小型大写字母&lt;/li&gt;
&lt;li&gt;font-weight//取值：normal、bold或数字（最大900），设置是否粗体&lt;/li&gt;
&lt;li&gt;font-size/line-height//取值：设置字体大小、行高&lt;/li&gt;
&lt;li&gt;font-family//取值：设置字体系列&lt;br&gt;&lt;code&gt;fillText&lt;/code&gt;属性将文本写上canvas，后两个数字分别是在canvas上开始写的坐标位置（x,y）。&lt;br&gt;然而残酷的现实告诉我们这样做往往就跪了= = 我们并看不到自定义字体的效果。。。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;分析原因&quot;&gt;&lt;a href=&quot;#分析原因&quot; class=&quot;headerlink&quot; title=&quot;分析原因&quot;&gt;&lt;/a&gt;&lt;strong&gt;分析原因&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;因为font-family是让我们在需要使用的时候再下载，所以很有可能字体并没有下载完，我们就执行了&lt;strong&gt;fillText&lt;/strong&gt;这句。&lt;/p&gt;
&lt;h3 id=&quot;解决办法&quot;&gt;&lt;a href=&quot;#解决办法&quot; class=&quot;headerlink&quot; title=&quot;解决办法&quot;&gt;&lt;/a&gt;&lt;strong&gt;解决办法&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;前端发ajax请求给后台，让后台返回字体，把字体加载完要干的事情（比如fillText）写到回调函数里。&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$.get(&lt;span class=&quot;string&quot;&gt;&#39;font.php?lang=&quot;PingFang_Bold&quot;&#39;&lt;/span&gt;).done(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            setTimeout(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                ctx.font = &lt;span class=&quot;string&quot;&gt;&#39;40px PingFang_Bold&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                ctx.fillText(&lt;span class=&quot;string&quot;&gt;&#39;人生何处不装逼=。=&#39;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;, &lt;span class=&quot;number&quot;&gt;500&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;后台：&lt;br&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt; ($_GET[&lt;span class=&quot;string&quot;&gt;&#39;lang&#39;&lt;/span&gt;]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;PingFang_Bold&quot;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		$file_PingFang_Bold=file_get_contents(&lt;span class=&quot;string&quot;&gt;&quot;./PingFang_Bold.TTF&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		&lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; $file_PingFang_Bold;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		&lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	&lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		&lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;我在做的过程中出现了跨域问题，在php第一句加上&lt;code&gt;header(&amp;#39;Access-Control-Allow-Origin:*&amp;#39;);&lt;/code&gt;就ok啦~（处于安全考虑，换成特定域名更好）&lt;/p&gt;
&lt;p&gt;欢迎你的指导！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      本文解决了canvas自定义字体失败的问题。
    
    </summary>
    
      <category term="javaScript" scheme="http://wangjiajing.com/categories/javaScript/"/>
    
    
      <category term="font-face canvas 自定义字体" scheme="http://wangjiajing.com/tags/font-face-canvas-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93/"/>
    
  </entry>
  
  <entry>
    <title>改变placeholder的样式</title>
    <link href="http://wangjiajing.com/2016/05/02/%E6%94%B9%E5%8F%98placeholder%E7%9A%84%E6%A0%B7%E5%BC%8F/"/>
    <id>http://wangjiajing.com/2016/05/02/改变placeholder的样式/</id>
    <published>2016-05-02T05:17:45.000Z</published>
    <updated>2016-05-02T05:39:16.878Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;css&lt;/code&gt; &lt;code&gt;placeholder&lt;/code&gt;&lt;br&gt;做表单的时候需要用&lt;code&gt;placeholder&lt;/code&gt;提示，捣鼓了好久才知道怎么修改它的样式= =&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.profile::-webkit-input-placeholder {
    color: #f00;
    font-family: YGYDF;
    font-size: 1.3rem;
    letter-spacing: 0.3rem;       
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;其中，&lt;code&gt;.profile&lt;/code&gt;为选择器，后面接的&lt;code&gt;::-webkit-input-placeholder&lt;/code&gt;为伪元素选择器。(如果有考虑兼容性的必要的话，我用的是google，所以用&lt;code&gt;webkit&lt;/code&gt;，不同的浏览器内核请相应作出修改。)&lt;br&gt;然后你就可以对&lt;code&gt;placeholder&lt;/code&gt;为所欲为啦~&lt;/p&gt;
&lt;p&gt;欢迎您的指导！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      本文介绍怎么修改placeholder的样式。
    
    </summary>
    
      <category term="css" scheme="http://wangjiajing.com/categories/css/"/>
    
    
      <category term="css placeholder" scheme="http://wangjiajing.com/tags/css-placeholder/"/>
    
  </entry>
  
  <entry>
    <title>解决使用微信jssdk报域名不合法的错误</title>
    <link href="http://wangjiajing.com/2016/04/11/%E8%A7%A3%E5%86%B3%E4%BD%BF%E7%94%A8%E5%BE%AE%E4%BF%A1jssdk%E6%8A%A5%E5%9F%9F%E5%90%8D%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%E9%94%99%E8%AF%AF/"/>
    <id>http://wangjiajing.com/2016/04/11/解决使用微信jssdk报域名不合法的错误/</id>
    <published>2016-04-11T15:40:05.000Z</published>
    <updated>2016-06-28T11:21:11.332Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;微信&lt;/code&gt; &lt;code&gt;jssdk&lt;/code&gt;&lt;br&gt;今天使用微信jssdk时，报&lt;code&gt;invalid url domain&lt;/code&gt;，然后发现微信官方文档最常见的错误第一个就是这个，还说明了可能的错误原因，真是要感动哭了~&lt;br&gt;官方给出的原因是&lt;strong&gt;&lt;code&gt;当前页面所在域名与使用的appid没有绑定&lt;/code&gt;&lt;/strong&gt;，然后我就郁闷了。。。我明明就有绑定啊。。。最终各种修改JS接口安全域名，终于解决这个坑。&lt;/p&gt;
&lt;h3 id=&quot;解决方法&quot;&gt;&lt;a href=&quot;#解决方法&quot; class=&quot;headerlink&quot; title=&quot;解决方法&quot;&gt;&lt;/a&gt;&lt;strong&gt;解决方法&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;去掉JS接口安全域名里的&lt;strong&gt;&lt;code&gt;http://&lt;/code&gt;&lt;/strong&gt; 。。。= =&lt;br&gt;微信专业坑爹一万年= =&lt;/p&gt;
&lt;p&gt;另外，查找资料的时候看到有人说二级域名不能用，我是可以用的。。。&lt;/p&gt;
&lt;p&gt;欢迎你的指导！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      本文讲述如何解决使用微信jssdk报域名不合法的问题。
    
    </summary>
    
      <category term="Server" scheme="http://wangjiajing.com/categories/Server/"/>
    
    
      <category term="微信 服务器 jssdk 域名 不合法" scheme="http://wangjiajing.com/tags/%E5%BE%AE%E4%BF%A1-%E6%9C%8D%E5%8A%A1%E5%99%A8-jssdk-%E5%9F%9F%E5%90%8D-%E4%B8%8D%E5%90%88%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>解决用脚本修改不了微信菜单的问题</title>
    <link href="http://wangjiajing.com/2016/04/11/%E8%A7%A3%E5%86%B3%E7%94%A8%E8%84%9A%E6%9C%AC%E4%BF%AE%E6%94%B9%E4%B8%8D%E4%BA%86%E5%BE%AE%E4%BF%A1%E8%8F%9C%E5%8D%95%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <id>http://wangjiajing.com/2016/04/11/解决用脚本修改不了微信菜单的问题/</id>
    <published>2016-04-11T14:24:31.000Z</published>
    <updated>2016-06-28T11:21:45.122Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;微信&lt;/code&gt; &lt;code&gt;菜单&lt;/code&gt; &lt;code&gt;php&lt;/code&gt;&lt;br&gt;今天参考微信官方文档用php写了一个微信菜单，发现自己根本修改不了菜单的东西。用&lt;a href=&quot;http://mp.weixin.qq.com/debug&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;接口调试工具&lt;/a&gt;报错：&lt;code&gt;invalid sub button key size&lt;/code&gt;。官网上写的是菜单最多3个，子菜单5个。我很认真地数了一下我的菜单个数——2个，自菜单个数——5个，这超了。。。吗？我读书少你不要欺负我啊= =&lt;/p&gt;
&lt;h3 id=&quot;解决方法&quot;&gt;&lt;a href=&quot;#解决方法&quot; class=&quot;headerlink&quot; title=&quot;解决方法&quot;&gt;&lt;/a&gt;&lt;strong&gt;解决方法&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;发现那个菜单里要跳转到链接本来应该这样写：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;type&amp;quot;:&amp;quot;view&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;name&amp;quot;:&amp;quot;装逼&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;url&amp;quot;:&amp;quot;http://wangjiajing.com&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;而我把&lt;code&gt;type&lt;/code&gt;的类型写成了&lt;code&gt;click&lt;/code&gt;。。。&lt;/p&gt;
&lt;h3 id=&quot;总结&quot;&gt;&lt;a href=&quot;#总结&quot; class=&quot;headerlink&quot; title=&quot;总结&quot;&gt;&lt;/a&gt;&lt;strong&gt;总结&lt;/strong&gt;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;code&gt;click&lt;/code&gt;是和&lt;code&gt;key&lt;/code&gt;匹配的，在微信里的效果就是点击一下菜单，跳出一条消息，显示&lt;strong&gt;&lt;code&gt;点击菜单：（你的 key 里的内容）&lt;/code&gt;&lt;/strong&gt;；&lt;code&gt;view&lt;/code&gt;和&lt;code&gt;url&lt;/code&gt;搭配，效果是点击菜单直接跳转到url那个页面。&lt;/li&gt;
&lt;li&gt;测试过程还发现如果你的代码有bug，那么代码是post不过去的，所以微信的效果还是之前的效果，不会改变。&lt;/li&gt;
&lt;li&gt;代码改变了之后，有的时候要取消关注再关注才会看到效果，特别是改变了菜单内容的时候，有的时候则不需要这样做就能看到效果。&lt;/li&gt;
&lt;li&gt;测试号一天修改菜单的接口调用次数上限是100次，100次，真的只有100次= =所以要节约使用啊~&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;欢迎你的指导！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      本文讲述的是如何解决用脚本修改不了微信菜单的问题。
    
    </summary>
    
      <category term="Server" scheme="http://wangjiajing.com/categories/Server/"/>
    
    
      <category term="微信 菜单 服务器 php" scheme="http://wangjiajing.com/tags/%E5%BE%AE%E4%BF%A1-%E8%8F%9C%E5%8D%95-%E6%9C%8D%E5%8A%A1%E5%99%A8-php/"/>
    
  </entry>
  
</feed>
